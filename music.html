<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Music Select</title>
  <link rel="stylesheet" href="music.css">
</head>
<body>

  <header class="music-header">
    <a href="website.html#music" class="back-btn">← Back</a>
    <h1 class="title">Music Select</h1>
  </header>

  <main class="player-shell">
    <div class="album-and-controls">
      <div class="album-wrap">
        <img class="album-art" id="albumArt" src="music/cover1.jpg" alt="Cover">
      </div>

      <div class="track-meta">
        <div class="track-title" id="trackTitle">Track 1</div>
        <div class="track-sub" id="trackSub">Artist • 3:20</div>
      </div>

      <div class="controls">
        <button id="prevBtn" class="pill">◀</button>
        <button id="playPauseBtn" class="pill">▶</button>
        <button id="nextBtn" class="pill">▶</button>
      </div>

      <audio id="audio"></audio>
    </div>

    <section class="carousel-shell">
      <button class="nav left" id="leftNav">❮</button>

      <div class="track-carousel" id="carousel">
        <!-- 10 cards -->
        <button class="track-card active" data-index="0">
          <img src="music/cover1.jpg" alt="">
          <span>Track 1</span>
        </button>
        <button class="track-card" data-index="1">
          <img src="music/cover2.jpg" alt="">
          <span>Track 2</span>
        </button>
        <button class="track-card" data-index="2">
          <img src="music/cover3.jpg" alt="">
          <span>Track 3</span>
        </button>
        <button class="track-card" data-index="3">
          <img src="music/cover4.jpg" alt="">
          <span>Track 4</span>
        </button>
        <button class="track-card" data-index="4">
          <img src="music/cover5.jpg" alt="">
          <span>Track 5</span>
        </button>
        <button class="track-card" data-index="5">
          <img src="music/cover6.jpg" alt="">
          <span>Track 6</span>
        </button>
        <button class="track-card" data-index="6">
          <img src="music/cover7.jpg" alt="">
          <span>Track 7</span>
        </button>
        <button class="track-card" data-index="7">
          <img src="music/cover8.jpg" alt="">
          <span>Track 8</span>
        </button>
        <button class="track-card" data-index="8">
          <img src="music/cover9.jpg" alt="">
          <span>Track 9</span>
        </button>
        <button class="track-card" data-index="9">
          <img src="music/cover10.jpg" alt="">
          <span>Track 10</span>
        </button>
      </div>

      <button class="nav right" id="rightNav">❯</button>
    </section>
  </main>

  <script>
    const tracks = [
      { title: "Track 1", artist: "Artist", duration: "3:20", cover: "music/cover1.jpg", src: "music/song1.mp3" },
      { title: "Track 2", artist: "Artist", duration: "2:54", cover: "music/cover2.jpg", src: "music/song2.mp3" },
      { title: "Track 3", artist: "Artist", duration: "3:05", cover: "music/cover3.jpg", src: "music/song3.mp3" },
      { title: "Track 4", artist: "Artist", duration: "3:42", cover: "music/cover4.jpg", src: "music/song4.mp3" },
      { title: "Track 5", artist: "Artist", duration: "2:58", cover: "music/cover5.jpg", src: "music/song5.mp3" },
      { title: "Track 6", artist: "Artist", duration: "3:18", cover: "music/cover6.jpg", src: "music/song6.mp3" },
      { title: "Track 7", artist: "Artist", duration: "3:07", cover: "music/cover7.jpg", src: "music/song7.mp3" },
      { title: "Track 8", artist: "Artist", duration: "3:33", cover: "music/cover8.jpg", src: "music/song8.mp3" },
      { title: "Track 9", artist: "Artist", duration: "3:11", cover: "music/cover9.jpg", src: "music/song9.mp3" },
      { title: "Track 10", artist: "Artist", duration: "3:26", cover: "music/cover10.jpg", src: "music/song10.mp3" }
    ];

    const audio = document.getElementById("audio");
    const albumArt = document.getElementById("albumArt");
    const trackTitle = document.getElementById("trackTitle");
    const trackSub = document.getElementById("trackSub");
    const playPauseBtn = document.getElementById("playPauseBtn");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const carousel = document.getElementById("carousel");
    const cards = Array.from(document.querySelectorAll(".track-card"));
    const leftNav = document.getElementById("leftNav");
    const rightNav = document.getElementById("rightNav");

    let index = 0;

    function setTrack(i, autoPlay = true) {
      index = (i + tracks.length) % tracks.length;
      const t = tracks[index];
      audio.src = t.src;
      albumArt.src = t.cover;
      trackTitle.textContent = t.title;
      trackSub.textContent = `${t.artist} • ${t.duration}`;
      cards.forEach(c => c.classList.remove("active"));
      cards[index].classList.add("active");
      centerCard(index);
      if (autoPlay) {
        audio.play().catch(() => {});
      }
      updatePlayButton();
      updateSpin();
    }

    function updatePlayButton() {
      playPauseBtn.textContent = audio.paused ? "▶" : "⏸";
    }

    function updateSpin() {
      if (audio.paused) {
        albumArt.classList.remove("playing");
      } else {
        albumArt.classList.add("playing");
      }
    }

    function centerCard(i) {
      const card = cards[i];
      const wrapRect = carousel.getBoundingClientRect();
      const cardRect = card.getBoundingClientRect();
      const scrollLeft = carousel.scrollLeft + (cardRect.left - wrapRect.left) - (wrapRect.width/2 - cardRect.width/2);
      carousel.scrollTo({ left: scrollLeft, behavior: "smooth" });
    }

    playPauseBtn.addEventListener("click", () => {
      if (audio.paused) audio.play(); else audio.pause();
      updatePlayButton();
      updateSpin();
    });

    prevBtn.addEventListener("click", () => setTrack(index - 1, true));
    nextBtn.addEventListener("click", () => setTrack(index + 1, true));
    leftNav.addEventListener("click", () => setTrack(index - 1, true));
    rightNav.addEventListener("click", () => setTrack(index + 1, true));

    cards.forEach(card => {
      card.addEventListener("click", () => {
        const i = parseInt(card.dataset.index, 10);
        setTrack(i, true);
      });
    });

    audio.addEventListener("play", () => { updatePlayButton(); updateSpin(); });
    audio.addEventListener("pause", () => { updatePlayButton(); updateSpin(); });
    audio.addEventListener("ended", () => setTrack(index + 1, true));

    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowRight") setTrack(index + 1, true);
      if (e.key === "ArrowLeft") setTrack(index - 1, true);
      if (e.key === " " || e.key === "Spacebar") { e.preventDefault(); playPauseBtn.click(); }
    });

    setTrack(0, false);
  </script>
</body>
</html>
